import{a as r,o as _,c as p,d as c,e as f,z as s,aj as i,S as a,ar as h}from"./index.7a8cc0c4.js";import{_ as g}from"./DataTable.0eadfb94.js";import"./RadioGroup.4a66a4d9.js";import"./Input.875f1932.js";import"./FocusDetector.e14dcf3e.js";const y={id:"Member"},x={class:"container"},b=c("h1",null,"\u6703\u54E1\u7BA1\u7406",-1),V={__name:"MembersView",setup(k){const n=r([]),l=r([{title:"\u6703\u54E1ID",key:"_id"},{title:"\u6703\u54E1\u540D\u7A31",key:"account",render(e){return s("a",{href:"#"},{default:()=>e.account})}},{title:"\u6B0A\u9650",key:"role",sorter:(e,t)=>e.role-t.role},{title:"\u4FE1\u7BB1",key:"email",render(e){return s("a",{href:`mailto:${e.email}`},{default:()=>"\u5BC4\u4FE1"})}},{title:"\u522A\u9664",key:"delete",render(e){return s(h,{strong:!0,tertiary:!0,size:"small",onClick:()=>d(e._id)},{default:()=>"\u522A\u9664"})}}]),u=r({pageSize:10}),d=async e=>{a.fire({icon:"warning",title:"\u78BA\u5B9A\u522A\u9664?",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonText:"\u78BA\u8A8D\u522A\u9664",cancelButtonText:"\u53D6\u6D88"}).then(async t=>{t.isConfirmed&&(await i.delete("/users/"+e),await a.fire({icon:"success",title:"\u6210\u529F"}),o())}).catch(t=>{a.fire({icon:"error",title:"\u5931\u6557",text:t.isAxiosError?t.response.data.message:t.message})})},o=async()=>{try{const{data:e}=await i.get("/users/all");n.push(...e.result)}catch(e){a.fire({icon:"error",title:"\u5931\u6557",text:e.isAxiosError?e.response.data.message:e.message})}};return o(),(e,t)=>{const m=g;return _(),p("div",y,[c("div",x,[b,f(m,{columns:l,data:n,pagination:u,bordered:!1},null,8,["columns","data","pagination"])])])}}};export{V as default};
