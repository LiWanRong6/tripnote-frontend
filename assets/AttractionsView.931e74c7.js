import{af as b,ag as I,a as m,B as D,b as F,o as i,c as p,d as e,e as l,w as a,F as g,ah as y,ai as c,h as L,S as d,aj as v,ak as P,al as j,am as w,an as q,g as x,ao as f,ap as z,aq as E,ar as M,as as R}from"./index.7fcf744d.js";import{_ as $}from"./InputGroup.69d540d2.js";import{_ as G,a as H}from"./RadioGroup.7c77ecb5.js";const J={id:"Attraction"},O={class:"container"},Q=e("h1",null,"\u666F\u9EDE",-1),W={class:"wrapper"},X={class:"card-content"},Y={class:"header"},Z=["href"],tt={class:"description"},et={key:0,class:"choose-itinerary"},ot=e("h3",null,"\u9078\u64C7\u884C\u7A0B",-1),nt=x("\u52A0\u5165\u884C\u7A0B"),lt={__name:"AttractionsView",setup(st){const k=b(),{isLogin:A}=I(k),h=m([]),u=m([]),s=m({_id:"",attraction:"",spend:0,list:0,content:"",Keyword:""}),B=async o=>{s.attraction=o;try{s._id!==""?(await v.post("/tripnotes/item",s),d.fire({icon:"success",title:"\u6210\u529F",text:"\u65B0\u589E\u6210\u529F"})):d.fire({icon:"error",title:"\u5931\u6557",text:"\u8ACB\u9078\u64C7\u884C\u7A0B"})}catch{d.fire({icon:"error",title:"\u5931\u6557",text:"\u65B0\u589E\u5931\u6557"})}};(async()=>{try{const{data:o}=await L.get("/attractions/all");h.push(...o.result)}catch{d.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})();const _=D(()=>h.filter(o=>o.name.match(s.Keyword)));return(async()=>{try{const{data:o}=await v.get("/tripnotes/unpost");u.push(...o.result)}catch{d.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(o,n)=>{const C=$,N=E,S=F("font-awesome-icon"),V=G,K=H,U=M,T=R;return i(),p("div",J,[e("div",O,[Q,l(C,{class:"search"},{default:a(()=>[P(e("input",{type:"search","onUpdate:modelValue":n[0]||(n[0]=t=>s.Keyword=t),placeholder:"\u641C\u5C0B\u666F\u9EDE\u540D\u7A31"},null,512),[[j,s.Keyword,void 0,{lazy:!0,trim:!0}]]),e("button",{onKeydown:n[1]||(n[1]=(...t)=>c(_)&&c(_)(...t)),onClick:n[2]||(n[2]=(...t)=>c(_)&&c(_)(...t))},"\u641C\u7D22",32)]),_:1}),e("div",W,[(i(!0),p(g,null,y(c(_),t=>(i(),w(T,{key:t._id},q({cover:a(()=>[l(N,{src:t.image},null,8,["src"])]),default:a(()=>[e("div",X,[e("div",Y,[e("h2",null,f(t.name),1),e("a",{href:t.official},[l(S,{icon:"fa-solid fa-earth-americas"})],8,Z)]),e("p",tt,f(t.description),1)])]),_:2},[c(A)?{name:"footer",fn:a(()=>[u.length>0?(i(),p("div",et,[ot,l(K,{value:s._id,"onUpdate:value":n[3]||(n[3]=r=>s._id=r)},{default:a(()=>[(i(!0),p(g,null,y(u,r=>(i(),w(V,{key:r._id,value:r._id},{default:a(()=>[x(f(r.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])):z("",!0)])}:void 0,u.length>0?{name:"action",fn:a(()=>[l(U,{onClick:r=>B(t._id)},{default:a(()=>[nt]),_:2},1032,["onClick"])])}:void 0]),1024))),128))])])])}}};export{lt as default};
