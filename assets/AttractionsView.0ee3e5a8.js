import{Q as U,aA as I,a as u,R as T,o as c,c as l,e as t,U as h,aB as g,f as b,S as i,aC as v,aD as y,aE as D,aF as E,w as e,b as d,V as w,aG as p,aH as F,aI as P,W as R,X as $}from"./index.c4474651.js";import{_ as G,a as H}from"./RadioGroup.ecb3856e.js";const L={id:"Attraction"},Q={class:"container"},W=t("h1",null,"\u666F\u9EDE",-1),X={class:"wrapper"},j={class:"card-content"},q={class:"header"},z=["href"],J={class:"description"},K={key:0,class:"choose-itinerary"},M=t("h3",null,"\u9078\u64C7\u884C\u7A0B",-1),O=w("\u52A0\u5165\u884C\u7A0B"),ot={__name:"AttractionsView",setup(Y){const x=U(),{token:f}=I(x),m=u([]),_=u([]),r=u({_id:"",attraction:"",spend:0,list:0,content:""}),k=async o=>{r.attraction=o;try{r._id!==""?(await v.post("/tripnotes/item",r),i.fire({icon:"success",title:"\u6210\u529F",text:"\u65B0\u589E\u6210\u529F"})):i.fire({icon:"error",title:"\u5931\u6557",text:"\u8ACB\u9078\u64C7\u884C\u7A0B"})}catch{i.fire({icon:"error",title:"\u5931\u6557",text:"\u65B0\u589E\u5931\u6557"})}};return(async()=>{try{const{data:o}=await b.get("/attractions/all");m.push(...o.result)}catch{i.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),console.log(),f&&(async()=>{try{const{data:s}=await v.get("/tripnotes/unpost");_.push(...s.result)}catch{i.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(o,s)=>{const A=P,B=T("font-awesome-icon"),C=G,N=H,V=R,S=$;return c(),l("div",L,[t("div",Q,[W,t("div",X,[(c(!0),l(h,null,g(m,n=>(c(),y(S,{key:n._id},D({cover:e(()=>[d(A,{src:n.image},null,8,["src"])]),default:e(()=>[t("div",j,[t("div",q,[t("h2",null,p(n.name),1),t("a",{href:n.official},[d(B,{icon:"fa-solid fa-earth-americas"})],8,z)]),t("p",J,p(n.description),1)])]),_:2},[E(f)?{name:"footer",fn:e(()=>[_.length>0?(c(),l("div",K,[M,d(N,{value:r._id,"onUpdate:value":s[0]||(s[0]=a=>r._id=a)},{default:e(()=>[(c(!0),l(h,null,g(_,a=>(c(),y(C,{key:a._id,value:a._id},{default:e(()=>[w(p(a.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])):F("",!0)])}:void 0,_.length>0?{name:"action",fn:e(()=>[d(V,{onClick:a=>k(n._id)},{default:e(()=>[O]),_:2},1032,["onClick"])])}:void 0]),1024))),128))])])])}}};export{ot as default};
