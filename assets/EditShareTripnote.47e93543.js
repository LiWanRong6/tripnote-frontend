import{bm as y,a as c,b,o,c as a,d as s,ao as l,F as f,ah as x,e as u,w,aj as d,S as n,ar as E,g as k}from"./index.cfb277e4.js";const v={id:"EditShareTripnote"},S={class:"container"},T=k("\u78BA\u8A8D"),V={__name:"EditShareTripnote",setup(B){const i=y(),p=c([{header:[1,2,3,4,!1]},"bold","italic","underline",{align:[]},{color:[]},{background:[]},"image","link","code"]),t=c({_id:"",user:"",title:"",image:[],departure:"",return:"",created:"",post:Date.now(),ispost:"",item:[],rows:[]}),_=async()=>{try{t.ispost=!0,await d.patch("/tripnotes/item/"+i.params.id,t),n.fire({icon:"success",title:"\u6210\u529F",text:"\u5206\u4EAB\u6210\u529F"})}catch{n.fire({icon:"error",title:"\u5931\u6557",text:"\u5206\u4EAB\u5931\u6557"})}};return(async()=>{try{const{data:e}=await d.get("/tripnotes/"+i.params.id);t._id=e.result._id,t.title=e.result.title,t.image=e.result.image,t.departure=e.result.date[0].departure,t.return=e.result.date[0].return,t.created=e.result.date[0].created,t.post=e.result.user.post,t.user=e.result.user.account,t.ispost=e.result.ispost,t.item=e.result.item}catch{n.fire({icon:"error",title:"\u5931\u6557",text:"\u8F09\u5165\u932F\u8AA4"})}})(),(e,N)=>{const m=b("QuillEditor"),h=E;return o(),a("div",v,[s("div",S,[s("h1",null,l(t.title),1),(o(!0),a(f,null,x(t.item,r=>(o(),a("div",{key:r._id,class:""},[s("h2",null,l(r.attraction.name),1),u(m,{content:r.content,"onUpdate:content":g=>r.content=g,toolbar:p,contentType:"html"},null,8,["content","onUpdate:content","toolbar"])]))),128)),u(h,{onClick:_,color:"#1F2E3C"},{default:w(()=>[T]),_:1})])])}}};export{V as default};
