import{P as I,ay as b,a as u,Q as D,o as a,c as i,e,R as f,az as h,aA as g,S as _,f as E,aB as v,aC as F,aD as P,w as n,b as l,U as y,aE as p,aF as R,aG as T,V as $}from"./index.12e72fe4.js";import{_ as z,a as G}from"./RadioGroup.324c5dd8.js";import{_ as L}from"./Card.ae161fe2.js";import"./keysOf.2fa8476a.js";const Q={id:"Attraction"},j={class:"container"},q=e("h1",null,"\u666F\u9EDE",-1),H={class:"wrapper"},J={class:"card-content"},K={class:"header"},M=["href"],O={key:0},W=e("h3",null,"\u9078\u64C7\u884C\u7A0B",-1),X=y("\u52A0\u5165\u884C\u7A0B"),st={__name:"AttractionsView",setup(Y){const w=I(),{token:k}=b(w),m=u([]),r=u([]),c=u({_id:"",attraction:"",spend:0}),x=async t=>{c.attraction=t;try{await g.post("/tripnotes/item",c),_.fire({icon:"success",title:"\u6210\u529F",text:"\u65B0\u589E\u6210\u529F"})}catch{_.fire({icon:"error",title:"\u5931\u6557",text:"\u65B0\u589E\u5931\u6557"})}},A=async()=>{try{const{data:t}=await g.get("/tripnotes/unpost");t.result.length>0&&r.push(...t.result)}catch{_.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}};return(async()=>{try{const{data:t}=await E.get("/attractions/all");m.push(...t.result)}catch{_.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),A(),(t,d)=>{const V=T,B=D("font-awesome-icon"),C=z,N=G,S=$,U=L;return a(),i("div",Q,[e("div",j,[q,e("div",H,[(a(!0),i(f,null,h(m,o=>(a(),v(U,{key:o._id},F({cover:n(()=>[l(V,{src:o.image},null,8,["src"])]),default:n(()=>[e("div",J,[e("div",K,[e("h2",null,p(o.name),1),e("a",{href:o.official},[l(B,{icon:"fa-solid fa-earth-americas"})],8,M)]),e("p",null,p(o.description),1)])]),_:2},[P(k)?{name:"footer",fn:n(()=>[r.length>0?(a(),i("div",O,[W,l(N,{value:c._id,"onUpdate:value":d[0]||(d[0]=s=>c._id=s)},{default:n(()=>[(a(!0),i(f,null,h(r,s=>(a(),v(C,{key:s._id,value:s._id},{default:n(()=>[y(p(s.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])):R("",!0)])}:void 0,r.length>0?{name:"action",fn:n(()=>[l(S,{onClick:s=>x(o._id)},{default:n(()=>[X]),_:2},1032,["onClick"])])}:void 0]),1024))),128))])])])}}};export{st as default};
