import{u as h,a as o,o as y,c as g,e as l,b as f,x as i,aI as k,aC as n,S as s,W as c}from"./index.c4474651.js";import{_ as x}from"./DataTable.881a1c45.js";import"./RadioGroup.ecb3856e.js";import"./FocusDetector.0b23a5b8.js";import"./index.20db2190.js";const I={id:"ShareItinerary"},S={class:"container"},B=l("h1",null,"\u5206\u4EAB\u884C\u7A0B",-1),T={__name:"ShareItinerary",setup(N){const p=h(),e=o([]),u=o([{title:"\u5716\u7247",key:"image",render(t){return i(k,{width:"100",src:t.image})}},{title:"\u6A19\u984C",key:"title"},{title:"\u767C\u5E03",key:"isPost",render(t){return i(c,{strong:!0,tertiary:!0,size:"small",onClick:()=>_(t._id,t.idx)},{default:()=>"\u53D6\u6D88\u767C\u5E03"})}},{title:"\u7DE8\u8F2F",key:"edit",render(t){return i(c,{strong:!0,tertiary:!0,size:"small",onClick:()=>m(t._id)},{default:()=>"\u7DE8\u8F2F"})}}]),d=o({pageSize:10}),_=async(t,r)=>{e[r].ispost=!1;try{await n.patch("/tripnotes/post/"+t,e[r]),s.fire({icon:"success",title:"\u6210\u529F",text:"\u53D6\u6D88\u5206\u4EAB"})}catch(a){console.log(a),s.fire({icon:"error",title:"\u5931\u6557",text:"\u5206\u4EAB\u5931\u6557"})}},m=async t=>{p.push("/edit-share-tripnote/"+t)};return(async()=>{try{let t=0;const{data:r}=await n.get("/tripnotes/post");e.push(...r.result),e.forEach(a=>a.idx=t++),console.log(e)}catch{s.fire({icon:"error",title:"\u5931\u6557",text:"\u8F09\u5165\u932F\u8AA4"})}})(),(t,r)=>{const a=x;return y(),g("div",I,[l("div",S,[B,f(a,{columns:u,data:e,pagination:d,bordered:!1},null,8,["columns","data","pagination"])])])}}};export{T as default};
