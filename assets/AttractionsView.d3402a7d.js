import{Q as U,aA as I,a as u,R as T,o as r,c as l,e as t,U as h,aB as g,f as b,S as i,aC as v,aD as y,aE as D,aF as E,w as e,b as d,V as w,aG as p,aH as F,aI as P,W as R,X as $}from"./index.c3bd43e1.js";import{_ as G,a as H}from"./RadioGroup.10d5bd6c.js";const L={id:"Attraction"},Q={class:"container"},W=t("h1",null,"\u666F\u9EDE",-1),X={class:"wrapper"},j={class:"card-content"},q={class:"header"},z=["href"],J={class:"description"},K={key:0,class:"choose-itinerary"},M=t("h3",null,"\u9078\u64C7\u884C\u7A0B",-1),O=w("\u52A0\u5165\u884C\u7A0B"),st={__name:"AttractionsView",setup(Y){const x=U(),{token:f}=I(x),m=u([]),_=u([]),c=u({_id:"",attraction:"",spend:0,list:0,content:""}),k=async s=>{c.attraction=s;try{c._id!==""?(await v.post("/tripnotes/item",c),i.fire({icon:"success",title:"\u6210\u529F",text:"\u65B0\u589E\u6210\u529F"})):i.fire({icon:"error",title:"\u5931\u6557",text:"\u8ACB\u9078\u64C7\u884C\u7A0B"})}catch{i.fire({icon:"error",title:"\u5931\u6557",text:"\u65B0\u589E\u5931\u6557"})}};return(async()=>{try{const{data:s}=await b.get("/attractions/all");m.push(...s.result)}catch{i.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),f&&(async()=>{try{const{data:n}=await v.get("/tripnotes/unpost");_.push(...n.result)}catch{i.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(s,n)=>{const A=P,B=T("font-awesome-icon"),C=G,N=H,V=R,S=$;return r(),l("div",L,[t("div",Q,[W,t("div",X,[(r(!0),l(h,null,g(m,o=>(r(),y(S,{key:o._id},D({cover:e(()=>[d(A,{src:o.image},null,8,["src"])]),default:e(()=>[t("div",j,[t("div",q,[t("h2",null,p(o.name),1),t("a",{href:o.official},[d(B,{icon:"fa-solid fa-earth-americas"})],8,z)]),t("p",J,p(o.description),1)])]),_:2},[E(f)?{name:"footer",fn:e(()=>[_.length>0?(r(),l("div",K,[M,d(N,{value:c._id,"onUpdate:value":n[0]||(n[0]=a=>c._id=a)},{default:e(()=>[(r(!0),l(h,null,g(_,a=>(r(),y(C,{key:a._id,value:a._id},{default:e(()=>[w(p(a.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])):F("",!0)])}:void 0,_.length>0?{name:"action",fn:e(()=>[d(V,{onClick:a=>k(o._id)},{default:e(()=>[O]),_:2},1032,["onClick"])])}:void 0]),1024))),128))])])])}}};export{st as default};
