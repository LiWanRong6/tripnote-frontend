import{u as b,r as m,a as p,b as x,o as y,c as R,d as a,e as t,w as n,f as A,F as k,g as z,h as V,S as c}from"./index.cfb277e4.js";import{_ as Z,a as B}from"./FormItem.b8af6b33.js";import{_ as S}from"./Input.5c29b30d.js";import{_ as q}from"./Spin.01ecce52.js";const C={id:"Register"},F={class:"container"},N=a("h1",null,"\u8A3B\u518A",-1),U=a("input",{class:"registerBtn",type:"submit",value:"\u8A3B\u518A"},null,-1),$={id:"Footer"},E={class:"container"},T=z("\xA9COPYRIGHT 2022 "),G=a("span",null,"\u806F\u7D61\u6211\u5011",-1),Y={__name:"RegisterView",setup(H){const d=b(),i=m(!1),r=m(!1),s=p({account:"",email:"",password:""}),g=p({account:[{required:!0,message:"\u5E33\u865F\u5FC5\u586B",trigger:"blur"},{min:4,max:20,message:"\u5E33\u865F\u9577\u5EA6\u70BA 4 \u5230 20 \u500B\u5B57",trigger:"blur"},{pattern:/^[a-zA-Z0-9]+$/,message:"\u5E33\u865F\u53EA\u80FD\u7531\u82F1\u6578\u5B57\u7D44\u6210",trigger:"blur"}],email:[{required:!0,message:"\u4FE1\u7BB1\u5FC5\u586B",trigger:"blur"},{pattern:/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/,message:"\u4FE1\u7BB1\u683C\u5F0F\u932F\u8AA4",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u78BC\u5FC5\u586B",trigger:"blur"},{min:4,max:20,message:"\u5BC6\u78BC\u9577\u5EA6\u70BA 4 \u5230 20 \u500B\u5B57",trigger:"blur"},{pattern:/^[a-zA-Z0-9]+$/,message:"\u5BC6\u78BC\u53EA\u80FD\u7531\u82F1\u6578\u5B57\u7D44\u6210",trigger:"blur"}]}),f=()=>{var _;!i.value||(r.value=!0,(_=i.value)==null||_.validate(async e=>{try{e?(c.fire({icon:"error",title:"\u5931\u6557",text:e.isAxiosError&&e.response.data?e.response.data.message:"\u767C\u751F\u932F\u8AA4"}),r.value=!1):(await V.post("/users",s),await c.fire({icon:"success",title:"\u6210\u529F",text:"\u8A3B\u518A\u6210\u529F"}),d.push("/"))}catch{await c.fire({icon:"warning",title:"\u5E33\u865F\u5DF2\u88AB\u8A3B\u518A",text:"\u8ACB\u91CD\u65B0\u8F38\u5165"}),r.value=!1}}))};return(_,e)=>{const l=S,u=B,v=q,h=Z,w=x("router-link");return y(),R(k,null,[a("div",C,[a("div",F,[N,t(h,{ref_key:"formRef",ref:i,model:s,rules:g,onSubmit:A(f,["prevent"])},{default:n(()=>[t(u,{label:"\u5E33\u865F",path:"account"},{default:n(()=>[t(l,{value:s.account,"onUpdate:value":e[0]||(e[0]=o=>s.account=o),placeholder:"\u8F38\u5165\u5E33\u865F",minlength:"4",maxlength:"20",round:""},null,8,["value"])]),_:1}),t(u,{label:"\u4FE1\u7BB1",path:"email"},{default:n(()=>[t(l,{value:s.email,"onUpdate:value":e[1]||(e[1]=o=>s.email=o),placeholder:"\u8F38\u5165\u4FE1\u7BB1",round:""},null,8,["value"])]),_:1}),t(u,{label:"\u5BC6\u78BC",path:"password"},{default:n(()=>[t(l,{type:"password",value:s.password,"onUpdate:value":e[2]||(e[2]=o=>s.password=o),placeholder:"\u8F38\u5165\u5BC6\u78BC",minlength:"4",maxlength:"20",round:""},null,8,["value"])]),_:1}),t(u,null,{default:n(()=>[t(v,{show:r.value},{default:n(()=>[U]),_:1},8,["show"])]),_:1})]),_:1},8,["model","rules","onSubmit"])])]),a("div",$,[a("div",E,[a("p",null,[T,t(w,{to:"/contact"},{default:n(()=>[G]),_:1})])])])],64)}}};export{Y as default};
