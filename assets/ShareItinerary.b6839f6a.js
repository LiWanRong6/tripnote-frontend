import{a as r,o as d,c as u,e as c,b as m,x as i,aI as h,aC as n,S as s,W as g}from"./index.246037ca.js";import{_ as f}from"./DataTable.56102009.js";import"./RadioGroup.82fe7923.js";import"./FocusDetector.7b15d8c0.js";import"./index.20db2190.js";const y={id:"ShareItinerary"},x={class:"container"},k=c("h1",null,"\u5206\u4EAB\u884C\u7A0B",-1),z={__name:"ShareItinerary",setup(I){const e=r([]),l=r([{title:"\u5716\u7247",key:"image",render(t){return i(h,{width:"100",src:t.image})}},{title:"\u6A19\u984C",key:"title"},{title:"\u767C\u5E03",key:"isPost",render(t){return i(g,{strong:!0,tertiary:!0,size:"small",onClick:()=>_(t._id,t.idx)},{default:()=>"\u53D6\u6D88\u767C\u5E03"})}}]),p=r({pageSize:10}),_=async(t,o)=>{e[o].ispost=!1;try{console.log(e),await n.patch("/tripnotes/post/"+t,e[o]),s.fire({icon:"success",title:"\u6210\u529F",text:"\u53D6\u6D88\u5206\u4EAB"})}catch(a){console.log(a),s.fire({icon:"error",title:"\u5931\u6557",text:"\u5206\u4EAB\u5931\u6557"})}};return(async()=>{try{let t=0;const{data:o}=await n.get("/tripnotes/post");e.push(...o.result),e.forEach(a=>a.idx=t++),console.log(e)}catch{s.fire({icon:"error",title:"\u5931\u6557",text:"\u8F09\u5165\u932F\u8AA4"})}})(),(t,o)=>{const a=f;return d(),u("div",y,[c("div",x,[k,m(a,{columns:l,data:e,pagination:p,bordered:!1},null,8,["columns","data","pagination"])])])}}};export{z as default};
